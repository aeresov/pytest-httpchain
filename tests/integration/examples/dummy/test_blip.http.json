{
    "marks": [
        "xfail"
    ],
    "stages": [
        {
            "name": "one",
            "fixtures": [
                "server",
                "string_value",
                "number_value",
                "float_value"
            ],
            "request": {
                "url": "{{ server }}/{{ string_value }}",
                "timeout": "{{ float_value }}",
                "headers": {
                    "X-Session-Key": "{{ str(number_value) }}"
                },
                "auth": {
                    "name": "auth:basic",
                    "kwargs": {
                        "username": "user",
                        "password": "pass"
                    }
                }
            },
            "response": [
                {
                    "verify": {
                        "status": 200,
                        "headers": {
                            "content-type": "application/json"
                        }
                    }
                },
                {
                    "save": {
                        "substitutions": [
                            {
                                "vars": {
                                    "result_one": "{{ string_value }}"
                                }
                            }
                        ]
                    }
                },
                {
                    "verify": {
                        "expressions": [
                            "{{ result_one == number_value }}"
                        ]
                    }
                }
            ]
        },
        {
            "name": "two",
            "fixtures": [
                "server",
                "string_value",
                "number_value"
            ],
            "$ref": "common.json#/ref1",
            "response": [
                {
                    "verify": {
                        "expressions": [
                            "{{ result_one == number_value }}"
                        ]
                    }
                }
            ]
        },
        {
            "name": "three",
            "fixtures": [
                "server",
                "string_value",
                "number_value"
            ],
            "request": {
                "url": "{{ server }}/{{ string_value }}"
            },
            "$ref": "common.json#/ref2"
        }
    ]
}